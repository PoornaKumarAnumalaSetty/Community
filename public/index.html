<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Community Board - Share Your Ideas</title>
    <link rel="stylesheet" href="/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="app-header">
      <div class="container header-inner">
        <h1>🏘️ Community Board</h1>
        <p class="tagline">
          Share your ideas and concerns with your neighbors. Every voice
          matters!
        </p>
      </div>
    </header>

    <main class="container">
      <section class="composer" aria-labelledby="compose-title">
        <h2 id="compose-title">✍️ Share Something New</h2>
        <form id="issue-form" class="simple-form">
          <div class="form-group">
            <label for="title" class="form-label"
              >What would you like to share?</label
            >
            <input
              type="text"
              name="title"
              id="title"
              placeholder="Example: We need a new bench in the park"
              required
              maxlength="100"
              class="form-input"
            />
          </div>
          <div class="form-group">
            <label for="description" class="form-label"
              >Tell us more about it:</label
            >
            <textarea
              name="description"
              id="description"
              rows="5"
              placeholder="Describe your idea or concern in detail..."
              required
              maxlength="1000"
              class="form-textarea"
            ></textarea>
          </div>
          <button type="submit" class="btn btn-primary btn-large">
            📝 Share with Community
          </button>
        </form>
      </section>

      <section class="board" aria-labelledby="board-title">
        <div class="board-header">
          <h2 id="board-title">📋 Community Posts</h2>
          <div class="filters">
            <button class="btn btn-filter active" data-sort="new">
              🆕 Newest First
            </button>
            <button class="btn btn-filter" data-sort="top">
              ⭐ Most Popular
            </button>
          </div>
        </div>
        <div id="loading" class="loading-message">
          Loading community posts...
        </div>
        <ul
          id="issues"
          class="issue-list"
          aria-live="polite"
          aria-busy="true"
        ></ul>
      </section>
    </main>

    <footer class="app-footer">
      <div class="container">
        <p>💡 Built for our community. All posts are saved permanently.</p>
        <p class="footer-small">Need help? Ask a neighbor or family member.</p>
      </div>
    </footer>

    <template id="issue-item-template">
      <li class="issue">
        <div class="vote-section">
          <button
            class="btn btn-vote"
            title="Support this idea"
            aria-label="Support this idea"
          >
            👍
          </button>
          <span class="votes" aria-label="Number of supporters">0</span>
        </div>
        <div class="content">
          <h3 class="title"></h3>
          <p class="desc"></p>
          <div class="post-meta">
            <span class="date"></span>
            <span class="supporters"></span>
          </div>
          <details class="comments">
            <summary class="comments-summary">
              💬 Comments (<span class="count">0</span>)
            </summary>
            <div class="comments-content">
              <ul class="comment-list"></ul>
              <form class="comment-form simple-form">
                <div class="form-group">
                  <input
                    type="text"
                    name="text"
                    placeholder="Add your comment..."
                    required
                    maxlength="300"
                    class="form-input"
                  />
                  <button type="submit" class="btn btn-small">
                    💬 Comment
                  </button>
                </div>
              </form>
            </div>
          </details>
        </div>
      </li>
    </template>

    <script src="/app.js" defer></script>
  </body>
</html>
